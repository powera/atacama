# Domain configuration for Atacama
# Maps domain names to channel settings and theme configurations
#
# Database Configuration:
# By default, Atacama uses SQLite (emails.db in project root).
# For PostgreSQL/Supabase, use the --postgres flag and store the URL in keys/database_url:
#   echo "postgresql://user:password@host:port/database" > keys/database_url
#   python launch.py --web --postgres
#
# Supabase connection string format:
#   postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
#
# To migrate existing data: python tools/migrate_sqlite_to_postgres.py

# Archive configuration
[archive]
# Global archive settings
# Domains to exclude from archiving (internal/local domains)
excluded_domains = ["localhost", "127.0.0.1", "atacama.local"]

[domains]
  # Main domain (default)
  [domains.default]
    name = "Main Site"
    channels = [] # Empty list means all channels are accessible
    theme = "default"
    
  [domains.earlyversion]
    name = "Early Version"
    channels = []  # All channels
    theme = "default"

  [domains.codepending]
    name = "Code Pending"
    domains = ["codepending.com"]
    channels = ["wikipedia"]
    theme = "shragafeivel"
    
  # Pow3 blog domain
  [domains.pow3]
    name = "Alex Power's blog"
    domains = ["blog.pow3.com"]
    channels = ["tech", "llm", "atacama", "gardening"]
    theme = "pow3"
    description = "technology blog"

  # Shragafeivel domain
  [domains.shragafeivel]
    name = "Shragafeivel"
    domains = ["shragafeivel.com"]
    channels = ["religion", "usconst", "chess", "education", "highphysics"]
    theme = "shragafeivel"
    # Optional domain-specific settings
    description = "Shragafeivel Collection"
    # Enable automatic archiving for this domain
    auto_archive_enabled = true
    
# Theme configurations
# CSS files are loaded in order:
# 1. base.css - Variables, reset, typography
# 2. components.css - Reusable UI components (buttons, forms, dropdowns)
# 3. flash.css - Toast notifications
# 4. themes/atacama.css - Colortext system and message styling
# 5. pages/stream.css - Stream/listing page styles
# 6. pages/chess.css - Chess board rendering
# Additional theme files loaded after for overrides

[themes]
  [themes.default]
    name = "Default"
    css_files = ["base.css", "components.css", "flash.css", "themes/atacama.css", "pages/stream.css", "pages/chess.css"]

  [themes.shragafeivel]
    name = "Shragafeivel"
    css_files = ["base.css", "components.css", "flash.css", "themes/atacama.css", "pages/stream.css", "themes/shragafeivel.css", "pages/chess.css"]
    layout = "shragafeivel"
    banner = true

  [themes.pow3]
    name = "Pow3"
    css_files = ["base.css", "components.css", "flash.css", "themes/atacama.css", "pages/stream.css", "themes/pow3.css", "pages/chess.css"]
    layout = "pow3"
    banner = true