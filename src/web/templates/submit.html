<!DOCTYPE html>
<html>
<head>
    <title>Submit Message - Atacama</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/submit.css">
</head>
<body>
    <div class="container">
        <h1>Submit Message</h1>
        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
        {% if success %}
        <div class="success-container">
            <div class="success">Message submitted successfully!</div>
            {% if view_url %}
            <a href="{{ view_url }}" class="view-link">View Message â†’</a>
            {% endif %}
        </div>
        {% endif %}
        
        <form method="POST" action="/submit">
            <div class="form-group">
                <label for="subject">Subject:</label>
                <input type="text" id="subject" name="subject" required>
            </div>
           
        <div class="form-group">
            <label for="parent_id">Parent Message (optional):</label>
            <select name="parent_id" id="parent_id">
                <option value="">No parent message</option>
                {% for message in recent_messages %}
                    <option value="{{ message.id }}">
                        {{ message.subject or '(No Subject)' }} - ID: {{ message.id }}
                    </option>
                {% endfor %}
            </select>
        </div>

            <div class="form-group">
                <label for="content">Content:</label>
                <textarea id="content" name="content" rows="10" required></textarea>
            </div>
            
            <button type="submit">Submit</button>
        </form>
        
        <div class="info-box">
            <h3>Color Tags</h3>
            <p>You can use the following color tags in your message:</p>
            <ul>
                <li><code>&lt;xantham&gt;</code> - sarcastic, overconfident</li>
                <li><code>&lt;red&gt;</code> - forceful, certain</li>
                <li><code>&lt;orange&gt;</code> - counterpoint</li>
                <li><code>&lt;yellow&gt;</code> - quotes</li>
                <li><code>&lt;green&gt;</code> - technical explanations</li>
                <li><code>&lt;teal&gt;</code> - LLM output</li>
                <li><code>&lt;blue&gt;</code> - voice from beyond</li>
                <li><code>&lt;violet&gt;</code> - serious</li>
                <li><code>&lt;mogue&gt;</code> - actions taken</li>
                <li><code>&lt;gray&gt;</code> - past stories</li>
            </ul>
        </div>
    </div>
</body>
</html>
