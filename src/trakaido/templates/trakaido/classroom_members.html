{% extends "trakaido/base_stats.html" %}
{% block content %}
<div class="section-head">
  <h1>{{ classroom.name }} · Members</h1>
  <a href="/api/trakaido/classrooms/">← Back to classrooms</a>
</div>
<div class="card">
  <table>
    <thead><tr><th>Name</th><th>Email</th><th>Role</th><th>Joined</th><th>Stats</th></tr></thead>
    <tbody>
      {% for m in members %}
      <tr>
        <td>{{ m.name }}</td>
        <td class="muted">{{ m.email }}</td>
        <td><span class="pill">{{ m.role }}</span></td>
        <td class="muted">{{ m.joinedAt }}</td>
        <td>
          {% for lang in m.activeLanguages %}
            <a href="/api/trakaido/classrooms/{{ classroom.id }}/members/{{ m.userId }}/stats/{{ lang }}">{{ language_names[lang] }}</a>{% if not loop.last %} · {% endif %}
          {% else %}
            <span class="muted">No activity yet</span>
          {% endfor %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
